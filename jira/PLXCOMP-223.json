{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"146499","self":"http://jira.codehaus.org/rest/api/latest/issue/146499","key":"PLXCOMP-223","fields":{"progress":{"progress":0,"total":0},"summary":"PlexusIoURLResource eats the cause exception","timetracking":{},"issuetype":{"self":"http://jira.codehaus.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"http://jira.codehaus.org/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"customfield_10110":null,"votes":{"self":"http://jira.codehaus.org/rest/api/2/issue/PLXCOMP-223/votes","votes":1,"hasVoted":false},"resolution":{"self":"http://jira.codehaus.org/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"fixVersions":[{"self":"http://jira.codehaus.org/rest/api/2/version/19530","id":"19530","name":"plexus-io-2.0.9","archived":false,"released":true,"releaseDate":"2013-08-19"}],"resolutiondate":"2013-08-15T15:44:16.991-0500","customfield_10210":"0.0","timespent":null,"reporter":{"self":"http://jira.codehaus.org/rest/api/2/user?username=victorwss","name":"victorwss","emailAddress":"victorwssilva@gmail.com","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"Victor Williams Stafusa da Silva","active":true},"aggregatetimeoriginalestimate":null,"customfield_10161":["barisacar(barisacar)","krosenvold(krosenvold)","victorwss(victorwss)"],"customfield_10160":null,"updated":"2013-08-15T15:44:17.073-0500","created":"2013-06-03T14:17:44.427-0500","description":"I am trying to investigate an unrelated problem with maven archive plugin. Going in its stack traces I see this, which ultimately appear to be coming from plexus (but in fact, it is not):\r\n\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-assembly-plugin:2.4:single (make-assembly) on project scheduler: Failed to create assembly: Error creating assembly archive jar-with-dependencies: Problem creating jar: jar:file:/C:/myparent/myproject/target/myproject.war!/WEB-INF/somefolder/somefile.vm -> [Help 1]\r\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-assembly-plugin:2.4:single (make-assembly) on project myproject: Failed to create assembly: Error creating assembly archive jar-with-dependencies: Problem creating jar: jar:file:/C:/myparent/myproject/target/myproject.war!/WEB-INF/somefolder/somefile.vm\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:217)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)\r\n\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:320)\r\n\tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)\r\n\tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)\r\n\tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)\r\n\tat org.apache.maven.cli.MavenCli.main(MavenCli.java:141)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:601)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)\r\nCaused by: org.apache.maven.plugin.MojoExecutionException: Failed to create assembly: Error creating assembly archive jar-with-dependencies: Problem creating jar: jar:file:/C:/myparent/myproject/target/myproject.war!/WEB-INF/somefolder/somefile.vm\r\n\tat org.apache.maven.plugin.assembly.mojos.AbstractAssemblyMojo.execute(AbstractAssemblyMojo.java:495)\r\n\tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)\r\n\t... 19 more\r\nCaused by: org.apache.maven.plugin.assembly.archive.ArchiveCreationException: Error creating assembly archive jar-with-dependencies: Problem creating jar: jar:file:/C:/myparent/myproject/target/myproject.war!/WEB-INF/somefolder/somefile.vm\r\n\tat org.apache.maven.plugin.assembly.archive.DefaultAssemblyArchiver.createArchive(DefaultAssemblyArchiver.java:190)\r\n\tat org.apache.maven.plugin.assembly.mojos.AbstractAssemblyMojo.execute(AbstractAssemblyMojo.java:436)\r\n\t... 21 more\r\nCaused by: org.codehaus.plexus.archiver.ArchiverException: Problem creating jar: jar:file:/C:/myparent/myproject/target/myproject.war!/WEB-INF/somefolder/somefile.vm\r\n\tat org.codehaus.plexus.archiver.AbstractArchiver.createArchive(AbstractArchiver.java:927)\r\n\tat org.apache.maven.plugin.assembly.archive.archiver.AssemblyProxyArchiver.createArchive(AssemblyProxyArchiver.java:512)\r\n\tat org.apache.maven.plugin.assembly.archive.DefaultAssemblyArchiver.createArchive(DefaultAssemblyArchiver.java:186)\r\n\t... 22 more\r\nCaused by: java.io.IOException: jar:file:/C:/myparent/myproject/target/myproject.war!/WEB-INF/somefolder/somefile.vm\r\n\tat org.codehaus.plexus.components.io.resources.PlexusIoURLResource.getContents(PlexusIoURLResource.java:38)\r\n\tat org.codehaus.plexus.archiver.ArchiveEntry.getInputStream(ArchiveEntry.java:106)\r\n\tat org.codehaus.plexus.archiver.zip.AbstractZipArchiver.zipFile(AbstractZipArchiver.java:590)\r\n\tat org.codehaus.plexus.archiver.zip.AbstractZipArchiver.addResources(AbstractZipArchiver.java:398)\r\n\tat org.codehaus.plexus.archiver.zip.AbstractZipArchiver.createArchiveMain(AbstractZipArchiver.java:323)\r\n\tat org.codehaus.plexus.archiver.zip.AbstractZipArchiver.execute(AbstractZipArchiver.java:222)\r\n\tat org.codehaus.plexus.archiver.AbstractArchiver.createArchive(AbstractArchiver.java:910)\r\n\t... 24 more\r\n[ERROR] \r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n[ERROR] \r\n[ERROR] After correcting the problems, you can resume the build with the command\r\n[ERROR]   mvn <goals> -rf :myproject\r\n\r\nLooking at line 38 of the PlexusIoURLResource file, where it ssems to be the root cause, I found that:\r\n\r\n29    public InputStream getContents()\r\n30        throws IOException\r\n31    {\r\n32        try\r\n33        {\r\n34            return getURL().openStream();\r\n35        }\r\n36        catch ( IOException e )\r\n37        {\r\n38            throw new IOException( getDescriptionForError());\r\n39        }\r\n40    }\r\n\r\nIn fact, it is eating the original exception, making it much harder to debug the probably unrelated issue with something else. This is rarely justifiable. Please, append the original exception as a cause with this:\r\n\r\nthrow new IOException( getDescriptionForError(), e);","priority":{"self":"http://jira.codehaus.org/rest/api/2/priority/3","iconUrl":"http://jira.codehaus.org/images/icons/priorities/major.png","name":"Major","id":"3"},"duedate":null,"issuelinks":[],"customfield_10163":"44668800","watches":{"self":"http://jira.codehaus.org/rest/api/2/issue/PLXCOMP-223/watchers","watchCount":3,"isWatching":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"subtasks":[],"status":{"self":"http://jira.codehaus.org/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"http://jira.codehaus.org/images/icons/statuses/closed.png","name":"Closed","id":"6"},"customfield_10090":null,"labels":[],"workratio":-1,"assignee":{"self":"http://jira.codehaus.org/rest/api/2/user?username=krosenvold","name":"krosenvold","emailAddress":"krosenvold@apache.org","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&ownerId=krosenvold&avatarId=11127","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&ownerId=krosenvold&avatarId=11127","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&ownerId=krosenvold&avatarId=11127","48x48":"http://jira.codehaus.org/secure/useravatar?ownerId=krosenvold&avatarId=11127"},"displayName":"Kristian Rosenvold","active":true},"attachment":[],"customfield_10221":null,"customfield_10220":null,"customfield_10200":null,"aggregatetimeestimate":null,"customfield_10190":null,"project":{"self":"http://jira.codehaus.org/rest/api/2/project/11440","id":"11440","key":"PLXCOMP","name":"Plexus Components","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/projectavatar?size=xsmall&pid=11440&avatarId=10011","24x24":"http://jira.codehaus.org/secure/projectavatar?size=small&pid=11440&avatarId=10011","32x32":"http://jira.codehaus.org/secure/projectavatar?size=medium&pid=11440&avatarId=10011","48x48":"http://jira.codehaus.org/secure/projectavatar?pid=11440&avatarId=10011"},"projectCategory":{"self":"http://jira.codehaus.org/rest/api/2/projectCategory/10003","id":"10003","description":"various containers","name":"containers"}},"versions":[{"self":"http://jira.codehaus.org/rest/api/2/version/19188","id":"19188","name":"plexus-io-2.0.8","archived":false,"released":true,"releaseDate":"2013-07-30"}],"customfield_10170":null,"environment":null,"timeestimate":null,"customfield_10130":null,"aggregateprogress":{"progress":0,"total":0},"lastViewed":null,"components":[{"self":"http://jira.codehaus.org/rest/api/2/component/14319","id":"14319","name":"plexus-io"}],"comment":{"startAt":0,"maxResults":2,"total":2,"comments":[{"self":"http://jira.codehaus.org/rest/api/2/issue/146499/comment/329403","id":"329403","author":{"self":"http://jira.codehaus.org/rest/api/2/user?username=barisacar","name":"barisacar","emailAddress":"baris@acar.org.uk","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"Baris Acar","active":true},"body":"+1 - I'm getting this exception using the maven-assembly-plugin 2.4 (which uses plexus-io 2.0.6), during a build but all of the info associated with the original IOException - including the concrete derived type of the IOException - has been lost. Because of this, I actually have absolutely no idea what the problem is or how to fix the exception.","updateAuthor":{"self":"http://jira.codehaus.org/rest/api/2/user?username=barisacar","name":"barisacar","emailAddress":"baris@acar.org.uk","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"Baris Acar","active":true},"created":"2013-07-24T07:08:34.598-0500","updated":"2013-07-24T07:09:08.830-0500"},{"self":"http://jira.codehaus.org/rest/api/2/issue/146499/comment/330745","id":"330745","author":{"self":"http://jira.codehaus.org/rest/api/2/user?username=krosenvold","name":"krosenvold","emailAddress":"krosenvold@apache.org","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&ownerId=krosenvold&avatarId=11127","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&ownerId=krosenvold&avatarId=11127","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&ownerId=krosenvold&avatarId=11127","48x48":"http://jira.codehaus.org/secure/useravatar?ownerId=krosenvold&avatarId=11127"},"displayName":"Kristian Rosenvold","active":true},"body":"Fixed in 3179f9097095f3306ce2d145ff301668ac760e76, because we love those stacktraces !","updateAuthor":{"self":"http://jira.codehaus.org/rest/api/2/user?username=krosenvold","name":"krosenvold","emailAddress":"krosenvold@apache.org","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&ownerId=krosenvold&avatarId=11127","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&ownerId=krosenvold&avatarId=11127","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&ownerId=krosenvold&avatarId=11127","48x48":"http://jira.codehaus.org/secure/useravatar?ownerId=krosenvold&avatarId=11127"},"displayName":"Kristian Rosenvold","active":true},"created":"2013-08-15T15:44:17.034-0500","updated":"2013-08-15T15:44:17.034-0500"}]},"timeoriginalestimate":null,"aggregatetimespent":null}}