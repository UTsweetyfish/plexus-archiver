{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"91663","self":"http://jira.codehaus.org/rest/api/latest/issue/91663","key":"PLXCOMP-141","fields":{"progress":{"progress":0,"total":0},"summary":"Support Warning Options for Eclipse Compiler","timetracking":{},"issuetype":{"self":"http://jira.codehaus.org/rest/api/2/issuetype/2","id":"2","description":"A new feature of the product, which has yet to be developed.","iconUrl":"http://jira.codehaus.org/images/icons/issuetypes/newfeature.png","name":"New Feature","subtask":false},"customfield_10110":null,"votes":{"self":"http://jira.codehaus.org/rest/api/2/issue/PLXCOMP-141/votes","votes":4,"hasVoted":false},"resolution":{"self":"http://jira.codehaus.org/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"fixVersions":[],"resolutiondate":"2010-02-05T17:25:45.391-0600","customfield_10210":"1.0","timespent":null,"reporter":{"self":"http://jira.codehaus.org/rest/api/2/user?username=bentatham","name":"bentatham","emailAddress":"tatham@ieee.org","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"Ben Tatham","active":true},"aggregatetimeoriginalestimate":null,"customfield_10161":["deusaquilus(deusaquilus)","bentatham(bentatham)","kutzi(kutzi)","h2o(h2o)","jdcasey(jdcasey)"],"customfield_10160":null,"updated":"2011-10-25T05:11:43.356-0500","created":"2009-07-30T10:49:59.294-0500","description":"Currently, you cannot control the warning output of the eclipse compiler in plexus-compiler-eclipse.\n\nI have added the following:\n- Implement \"showWarnings\" to enable all warnings in Eclipse compiler\n- \"options\" parameter to maven-compiler-plugin (and plexus-compiler-api) which is a map of arbitrary items. \nIn practice, the keys are from http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/impl/CompilerOptions.java?view=markup\nYou can either turn on specific warnings or use showWarnings=true, and then ignore specific ones.\n\nIn addition, in the same patch, but unrelated feature: \n- Implement -bootclasspath compiler argument, which, if set, will exclude the JDK classpath.  This is useful when using a different java library (like libgcj), and you want to make sure you don't use classes outside of that library.\n\nThe patch includes changes to plexus-compiler-api, plexus-compiler-test, plexus-eclipse-compiler, all made from the trunk rev 8292 in http://svn.codehaus.org/plexus and maven-compiler-plugin trunk rev 799335 in http://svn.apache.org/repos/asf/maven/plugins/trunk\n\n","priority":{"self":"http://jira.codehaus.org/rest/api/2/priority/3","iconUrl":"http://jira.codehaus.org/images/icons/priorities/major.png","name":"Major","id":"3"},"duedate":null,"issuelinks":[],"customfield_10163":"101779200","watches":{"self":"http://jira.codehaus.org/rest/api/2/issue/PLXCOMP-141/watchers","watchCount":4,"isWatching":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"subtasks":[],"status":{"self":"http://jira.codehaus.org/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"http://jira.codehaus.org/images/icons/statuses/closed.png","name":"Closed","id":"6"},"customfield_10090":null,"labels":[],"workratio":-1,"assignee":{"self":"http://jira.codehaus.org/rest/api/2/user?username=jdcasey","name":"jdcasey","emailAddress":"jdcasey@commonjava.org","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"John Casey","active":true},"attachment":[{"self":"http://jira.codehaus.org/rest/api/2/attachment/43505","id":"43505","filename":"EclipseWarningsAndBootclasspath.zip","author":{"self":"http://jira.codehaus.org/rest/api/2/user?username=bentatham","name":"bentatham","emailAddress":"tatham@ieee.org","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"Ben Tatham","active":true},"created":"2009-07-30T10:49:59.302-0500","size":4425,"mimeType":"application/zip","content":"http://jira.codehaus.org/secure/attachment/43505/EclipseWarningsAndBootclasspath.zip"}],"customfield_10221":null,"customfield_10220":null,"customfield_10200":null,"aggregatetimeestimate":null,"customfield_10190":null,"project":{"self":"http://jira.codehaus.org/rest/api/2/project/11440","id":"11440","key":"PLXCOMP","name":"Plexus Components","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/projectavatar?size=xsmall&pid=11440&avatarId=10011","24x24":"http://jira.codehaus.org/secure/projectavatar?size=small&pid=11440&avatarId=10011","32x32":"http://jira.codehaus.org/secure/projectavatar?size=medium&pid=11440&avatarId=10011","48x48":"http://jira.codehaus.org/secure/projectavatar?pid=11440&avatarId=10011"},"projectCategory":{"self":"http://jira.codehaus.org/rest/api/2/projectCategory/10003","id":"10003","description":"various containers","name":"containers"}},"versions":[],"customfield_10170":[{"self":"http://jira.codehaus.org/rest/api/2/customFieldOption/10070","value":"Yes","id":"10070"}],"environment":null,"timeestimate":null,"customfield_10130":null,"aggregateprogress":{"progress":0,"total":0},"lastViewed":null,"components":[{"self":"http://jira.codehaus.org/rest/api/2/component/12541","id":"12541","name":"plexus-compiler"}],"comment":{"startAt":0,"maxResults":5,"total":5,"comments":[{"self":"http://jira.codehaus.org/rest/api/2/issue/91663/comment/185401","id":"185401","author":{"self":"http://jira.codehaus.org/rest/api/2/user?username=bentatham","name":"bentatham","emailAddress":"tatham@ieee.org","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"Ben Tatham","active":true},"body":"An example of what can be done (showing our internal release versions in our corporate common pom):\r\nNote that I am also using org.eclipse.jdt.core 3.5.0.v_963 (dependency in plexus-compiler-eclipse).  I have also used 3.4.4.v_894_R34x without issue. (I uploaded these artifacts to our nexus server directly from the plugins directory of my Eclipse Ganymede (3.4) and Eclipse Galileo (3.5) installations.\r\n\r\n      <plugin>\r\n        <groupId>org.apache.maven.plugins</groupId>\r\n        <artifactId>maven-compiler-plugin</artifactId>\r\n        <version>2.1-nmx-0.0.1</version>\r\n        <configuration>\r\n          <compilerId>eclipse</compilerId>\r\n          <source>1.5</source>\r\n          <target>1.5</target>\r\n          <debug>true</debug>\r\n          <showWarnings>true</showWarnings>\r\n          <showDeprecation>true</showDeprecation>\r\n          <options>\r\n            <!--\r\n            All warnings turned on with showWarnings above \r\n            See http://help.eclipse.org/galileo/topic/org.eclipse.jdt.doc.isv/guide/jdt_api_compile.htm for details \r\n            See http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/impl/CompilerOptions.java?view=markup\r\n            for a list of the actual allowable options \r\n             -->          \r\n            <org.eclipse.jdt.core.compiler.problem.unqualifiedFieldAccess>ignore</org.eclipse.jdt.core.compiler.problem.unqualifiedFieldAccess>\r\n            <org.eclipse.jdt.core.compiler.problem.parameterAssignment>ignore</org.eclipse.jdt.core.compiler.problem.parameterAssignment>\r\n            <org.eclipse.jdt.core.compiler.problem.nonExternalizedStringLiteral>ignore</org.eclipse.jdt.core.compiler.problem.nonExternalizedStringLiteral>\r\n            <org.eclipse.jdt.core.compiler.problem.missingSerialVersion>ignore</org.eclipse.jdt.core.compiler.problem.missingSerialVersion>\r\n            <org.eclipse.jdt.core.compiler.problem.fallthroughCase>ignore</org.eclipse.jdt.core.compiler.problem.fallthroughCase>\r\n          </options>\r\n          <compilerArguments>\r\n            <bootclasspath>${settings.localRepository}/org/gnu/gcj/libgcj/${libgcj.version}/libgcj-${libgcj.version}.jar</bootclasspath>\r\n          </compilerArguments>          \r\n        </configuration>\r\n        <dependencies>\r\n          <dependency>\r\n            <groupId>org.codehaus.plexus</groupId>\r\n            <artifactId>plexus-compiler-eclipse</artifactId>\r\n            <version>1.6-nmx-0.0.2</version>\r\n          </dependency>\r\n        </dependencies>\r\n      </plugin> ","updateAuthor":{"self":"http://jira.codehaus.org/rest/api/2/user?username=bentatham","name":"bentatham","emailAddress":"tatham@ieee.org","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"Ben Tatham","active":true},"created":"2009-07-30T11:06:49.006-0500","updated":"2009-07-30T11:06:49.006-0500"},{"self":"http://jira.codehaus.org/rest/api/2/issue/91663/comment/209299","id":"209299","author":{"self":"http://jira.codehaus.org/rest/api/2/user?username=jdcasey","name":"jdcasey","emailAddress":"jdcasey@commonjava.org","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"John Casey","active":true},"body":"as of plexus-compiler-* 1.7 (and the maven-compiler-plugin > 2.1) you should be able to do this using compilerArguments / testCompilerArguments.","updateAuthor":{"self":"http://jira.codehaus.org/rest/api/2/user?username=jdcasey","name":"jdcasey","emailAddress":"jdcasey@commonjava.org","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"John Casey","active":true},"created":"2010-02-05T17:25:45.489-0600","updated":"2010-02-05T17:25:45.489-0600"},{"self":"http://jira.codehaus.org/rest/api/2/issue/91663/comment/281975","id":"281975","author":{"self":"http://jira.codehaus.org/rest/api/2/user?username=deusaquilus","name":"deusaquilus","emailAddress":"deusaquilus@gmail.com","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"Alex Ioffe","active":true},"body":"Are you sure this works? I just tried this:\r\n\r\n<plugin>\r\n  <artifactId>maven-compiler-plugin</artifactId>\r\n  <version>2.3.2</version>\r\n  <configuration>\r\n    <compilerId>eclipse</compilerId>\r\n    <showWarnings>true</showWarnings>\r\n    <fork>true</fork>\r\n    <compilerArguments>\r\n      <org.eclipse.jdt.core.compiler.problem.unusedLocal>ignore</org.eclipse.jdt.core.compiler.problem.unusedLocal>\r\n    </compilerArguments>\r\n  </configuration>\r\n  <dependencies>\r\n    <dependency>\r\n      <groupId>org.codehaus.plexus</groupId>\r\n      <artifactId>plexus-compiler-eclipse</artifactId>\r\n      <version>1.8.2</version>\r\n    </dependency>\r\n  </dependencies>\r\n</plugin>\r\n\r\nAnd I'm still getting warings:\r\n[WARNING] com.sbe.hadoop.hbase.utils.ConfigurationTester:[45,1537] The local variable outputPath is never read\r\n[WARNING] com.sbe.hadoop.hbase.utils.ConfigurationTester:[48,1776] The local variable indexerTableName is never read\r\n","updateAuthor":{"self":"http://jira.codehaus.org/rest/api/2/user?username=deusaquilus","name":"deusaquilus","emailAddress":"deusaquilus@gmail.com","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"Alex Ioffe","active":true},"created":"2011-10-24T23:16:37.276-0500","updated":"2011-10-24T23:16:37.276-0500"},{"self":"http://jira.codehaus.org/rest/api/2/issue/91663/comment/282000","id":"282000","author":{"self":"http://jira.codehaus.org/rest/api/2/user?username=h2o","name":"h2o","emailAddress":"holger@codehaus.org","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"Holger Hoffstätte","active":true},"body":"Alex, I can confirm that this doesn't work at all. Way back I debugged this and it turned out that the options passed into the compiler are formatted incorrectly by the plugin(s) and then simply ignored by the compiler.\r\n","updateAuthor":{"self":"http://jira.codehaus.org/rest/api/2/user?username=h2o","name":"h2o","emailAddress":"holger@codehaus.org","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"Holger Hoffstätte","active":true},"created":"2011-10-25T04:52:19.202-0500","updated":"2011-10-25T04:52:19.202-0500"},{"self":"http://jira.codehaus.org/rest/api/2/issue/91663/comment/282001","id":"282001","author":{"self":"http://jira.codehaus.org/rest/api/2/user?username=kutzi","name":"kutzi","emailAddress":"kutzi@gmx.de","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"Christoph Kutzinski","active":true},"body":"It works, if you do it this way:\r\n\r\n<compilerArgument>-warn:+boxing,enumSwitch,-typeHiding</compilerArgument>\r\n\r\nSee e.g. http://help.eclipse.org/indigo/index.jsp?topic=%2Forg.eclipse.jdt.doc.user%2Ftasks%2Ftask-using_batch_compiler.htm\r\nfor possible options\r\n\r\nBTW: I'm using the tycho-compiler-jdt instead:\r\n\r\n                <dependencies>\r\n                    <dependency>\r\n                        <groupId>org.sonatype.tycho</groupId>\r\n                        <artifactId>tycho-compiler-jdt</artifactId>\r\n                        <!-- 0.11.x is equivalent to Eclipse 3.6.x/Helios; 0.12.x is 3.7/Indigo -->\r\n                        <version>0.10.0</version>\r\n                    </dependency>\r\n                </dependencies>","updateAuthor":{"self":"http://jira.codehaus.org/rest/api/2/user?username=kutzi","name":"kutzi","emailAddress":"kutzi@gmx.de","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"Christoph Kutzinski","active":true},"created":"2011-10-25T05:08:26.762-0500","updated":"2011-10-25T05:11:43.352-0500"}]},"timeoriginalestimate":null,"aggregatetimespent":null}}