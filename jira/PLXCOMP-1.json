{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"29643","self":"http://jira.codehaus.org/rest/api/latest/issue/29643","key":"PLXCOMP-1","fields":{"progress":{"progress":0,"total":0},"summary":"The java compiler wrapper is not processing the compiler output very well at all","timetracking":{},"issuetype":{"self":"http://jira.codehaus.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"http://jira.codehaus.org/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"customfield_10110":null,"votes":{"self":"http://jira.codehaus.org/rest/api/2/issue/PLXCOMP-1/votes","votes":6,"hasVoted":false},"resolution":null,"fixVersions":[],"resolutiondate":null,"customfield_10210":"0.0","timespent":null,"reporter":{"self":"http://jira.codehaus.org/rest/api/2/user?username=dozer","name":"dozer","emailAddress":"nmrp3@ncl.ac.uk","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"Matthew Pocock","active":true},"aggregatetimeoriginalestimate":null,"customfield_10161":["carlos(carlos)","dmlloyd(dmlloyd)","jglick(jglick)","krosenvold(krosenvold)","dozer(dozer)"],"customfield_10160":null,"updated":"2014-04-01T14:53:32.176-0500","created":"2005-11-15T13:12:18.196-0600","description":"The JavacCompiler output handling is screwey. I noticed this while attempting to debug a faulty annotation processor in maven by forking and setting the javac executable to apt.\n\ncompileOutOfProcess is throwing away the stdout of the javac process. This is needed.\n\nThe logic in parseModernStream is frelled. It assumes that all messages are compiler warnings or errors. It fails hideously if the output actually contains stack-traces. It also fails if the output is composed from multiple warnings or errors that don't have ^ to seperate them.\n\nI am not convinced that the error text is being processed by parseModernError for the final error message.\n\nPossibly, we need a re-think about how compiler output is captured.","priority":{"self":"http://jira.codehaus.org/rest/api/2/priority/3","iconUrl":"http://jira.codehaus.org/images/icons/priorities/major.png","name":"Major","id":"3"},"duedate":null,"issuelinks":[{"id":"31888","self":"http://jira.codehaus.org/rest/api/2/issueLink/31888","type":{"id":"10010","name":"Related","inward":"is related to","outward":"relates to","self":"http://jira.codehaus.org/rest/api/2/issueLinkType/10010"},"inwardIssue":{"id":"62917","key":"MCOMPILER-66","self":"http://jira.codehaus.org/rest/api/2/issue/62917","fields":{"summary":"Compiler swallows messages from annotation processors","status":{"self":"http://jira.codehaus.org/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"http://jira.codehaus.org/images/icons/statuses/closed.png","name":"Closed","id":"6"},"priority":{"self":"http://jira.codehaus.org/rest/api/2/priority/3","iconUrl":"http://jira.codehaus.org/images/icons/priorities/major.png","name":"Major","id":"3"},"issuetype":{"self":"http://jira.codehaus.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"http://jira.codehaus.org/images/icons/issuetypes/bug.png","name":"Bug","subtask":false}}}},{"id":"31889","self":"http://jira.codehaus.org/rest/api/2/issueLink/31889","type":{"id":"10010","name":"Related","inward":"is related to","outward":"relates to","self":"http://jira.codehaus.org/rest/api/2/issueLinkType/10010"},"inwardIssue":{"id":"120440","key":"MCOMPILER-144","self":"http://jira.codehaus.org/rest/api/2/issue/120440","fields":{"summary":"Using compiler API instead of tools.jar","status":{"self":"http://jira.codehaus.org/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"http://jira.codehaus.org/images/icons/statuses/closed.png","name":"Closed","id":"6"},"priority":{"self":"http://jira.codehaus.org/rest/api/2/priority/4","iconUrl":"http://jira.codehaus.org/images/icons/priorities/minor.png","name":"Minor","id":"4"},"issuetype":{"self":"http://jira.codehaus.org/rest/api/2/issuetype/2","id":"2","description":"A new feature of the product, which has yet to be developed.","iconUrl":"http://jira.codehaus.org/images/icons/issuetypes/newfeature.png","name":"New Feature","subtask":false}}}},{"id":"31890","self":"http://jira.codehaus.org/rest/api/2/issueLink/31890","type":{"id":"10010","name":"Related","inward":"is related to","outward":"relates to","self":"http://jira.codehaus.org/rest/api/2/issueLinkType/10010"},"inwardIssue":{"id":"128035","key":"MCOMPILER-158","self":"http://jira.codehaus.org/rest/api/2/issue/128035","fields":{"summary":"Symbol name should be displayed during compiler error using Java 7","status":{"self":"http://jira.codehaus.org/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"http://jira.codehaus.org/images/icons/statuses/closed.png","name":"Closed","id":"6"},"priority":{"self":"http://jira.codehaus.org/rest/api/2/priority/3","iconUrl":"http://jira.codehaus.org/images/icons/priorities/major.png","name":"Major","id":"3"},"issuetype":{"self":"http://jira.codehaus.org/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"http://jira.codehaus.org/images/icons/issuetypes/improvement.png","name":"Improvement","subtask":false}}}}],"customfield_10163":"24883200","watches":{"self":"http://jira.codehaus.org/rest/api/2/issue/PLXCOMP-1/watchers","watchCount":8,"isWatching":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"subtasks":[],"status":{"self":"http://jira.codehaus.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"http://jira.codehaus.org/images/icons/statuses/open.png","name":"Open","id":"1"},"customfield_10090":null,"labels":[],"workratio":-1,"assignee":null,"attachment":[],"customfield_10221":null,"customfield_10220":null,"customfield_10200":null,"aggregatetimeestimate":null,"customfield_10190":null,"project":{"self":"http://jira.codehaus.org/rest/api/2/project/11440","id":"11440","key":"PLXCOMP","name":"Plexus Components","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/projectavatar?size=xsmall&pid=11440&avatarId=10011","24x24":"http://jira.codehaus.org/secure/projectavatar?size=small&pid=11440&avatarId=10011","32x32":"http://jira.codehaus.org/secure/projectavatar?size=medium&pid=11440&avatarId=10011","48x48":"http://jira.codehaus.org/secure/projectavatar?pid=11440&avatarId=10011"},"projectCategory":{"self":"http://jira.codehaus.org/rest/api/2/projectCategory/10003","id":"10003","description":"various containers","name":"containers"}},"versions":[],"customfield_10170":null,"environment":null,"timeestimate":null,"customfield_10130":null,"aggregateprogress":{"progress":0,"total":0},"lastViewed":null,"components":[{"self":"http://jira.codehaus.org/rest/api/2/component/12541","id":"12541","name":"plexus-compiler"}],"comment":{"startAt":0,"maxResults":7,"total":7,"comments":[{"self":"http://jira.codehaus.org/rest/api/2/issue/29643/comment/61749","id":"61749","author":{"self":"http://jira.codehaus.org/rest/api/2/user?username=carlos","name":"carlos","emailAddress":"codehaus@carlossanchez.eu","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&ownerId=carlos&avatarId=12550","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&ownerId=carlos&avatarId=12550","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&ownerId=carlos&avatarId=12550","48x48":"http://jira.codehaus.org/secure/useravatar?ownerId=carlos&avatarId=12550"},"displayName":"Carlos Sanchez","active":true},"body":"Any sample to test this?","updateAuthor":{"self":"http://jira.codehaus.org/rest/api/2/user?username=carlos","name":"carlos","emailAddress":"codehaus@carlossanchez.eu","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&ownerId=carlos&avatarId=12550","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&ownerId=carlos&avatarId=12550","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&ownerId=carlos&avatarId=12550","48x48":"http://jira.codehaus.org/secure/useravatar?ownerId=carlos&avatarId=12550"},"displayName":"Carlos Sanchez","active":true},"created":"2006-03-22T21:44:30.944-0600","updated":"2006-03-22T21:44:30.944-0600"},{"self":"http://jira.codehaus.org/rest/api/2/issue/29643/comment/309740","id":"309740","author":{"self":"http://jira.codehaus.org/rest/api/2/user?username=dmlloyd","name":"dmlloyd","emailAddress":"david.lloyd@redhat.com","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"David M. Lloyd","active":true},"body":"Just wanted to give a (modern) update on this.  A look over org.codehaus.plexus.compiler.javac.JavacCompiler shows that the code is, -in a word- (okay I deleted \"the word\" :) ) incredibly out of date in addition to the implementation's inherent dodginess.  There's really no reason not to use javax.tools.JavaCompiler at this point since Java 5 has been EOL'd for some time and even if people want to target 5 there's no reason not to run on 6 in this decade.\r\n\r\nAn example of a serious issue with the current approach is that annotation processors are a disaster.  Any output at all (be it NOTE, WARNING, or ERROR) is classified as an error, and the output is sometimes lost or relocated in unexpected ways.\r\n\r\nI may take a swing at rewriting this thing if I have time, or perhaps I can persuade [~jdcasey] into spending time on it...","updateAuthor":{"self":"http://jira.codehaus.org/rest/api/2/user?username=dmlloyd","name":"dmlloyd","emailAddress":"david.lloyd@redhat.com","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"David M. Lloyd","active":true},"created":"2012-09-25T21:16:27.504-0500","updated":"2012-09-25T21:25:06.177-0500"},{"self":"http://jira.codehaus.org/rest/api/2/issue/29643/comment/309745","id":"309745","author":{"self":"http://jira.codehaus.org/rest/api/2/user?username=krosenvold","name":"krosenvold","emailAddress":"krosenvold@apache.org","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&ownerId=krosenvold&avatarId=11127","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&ownerId=krosenvold&avatarId=11127","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&ownerId=krosenvold&avatarId=11127","48x48":"http://jira.codehaus.org/secure/useravatar?ownerId=krosenvold&avatarId=11127"},"displayName":"Kristian Rosenvold","active":true},"body":"Patches welcome","updateAuthor":{"self":"http://jira.codehaus.org/rest/api/2/user?username=krosenvold","name":"krosenvold","emailAddress":"krosenvold@apache.org","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&ownerId=krosenvold&avatarId=11127","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&ownerId=krosenvold&avatarId=11127","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&ownerId=krosenvold&avatarId=11127","48x48":"http://jira.codehaus.org/secure/useravatar?ownerId=krosenvold&avatarId=11127"},"displayName":"Kristian Rosenvold","active":true},"created":"2012-09-26T00:15:52.595-0500","updated":"2012-09-26T00:15:52.595-0500"},{"self":"http://jira.codehaus.org/rest/api/2/issue/29643/comment/309801","id":"309801","author":{"self":"http://jira.codehaus.org/rest/api/2/user?username=dmlloyd","name":"dmlloyd","emailAddress":"david.lloyd@redhat.com","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"David M. Lloyd","active":true},"body":"Here you go:\r\n\r\nhttps://github.com/sonatype/plexus-compiler/pull/6","updateAuthor":{"self":"http://jira.codehaus.org/rest/api/2/user?username=dmlloyd","name":"dmlloyd","emailAddress":"david.lloyd@redhat.com","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"David M. Lloyd","active":true},"created":"2012-09-26T11:48:22.498-0500","updated":"2012-09-26T11:48:22.498-0500"},{"self":"http://jira.codehaus.org/rest/api/2/issue/29643/comment/309816","id":"309816","author":{"self":"http://jira.codehaus.org/rest/api/2/user?username=jglick","name":"jglick","emailAddress":"typrase@gmail.com","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"Jesse Glick","active":true},"body":"By this way this is arguably a duplicate of MCOMPILER-66 whereas MCOMPILER-144 matches the fix. MCOMPILER-158 is also related. I bet if you dig through unresolved MCOMPILER issues you can find some more.","updateAuthor":{"self":"http://jira.codehaus.org/rest/api/2/user?username=jglick","name":"jglick","emailAddress":"typrase@gmail.com","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"Jesse Glick","active":true},"created":"2012-09-26T15:40:40.795-0500","updated":"2012-09-26T15:40:40.795-0500"},{"self":"http://jira.codehaus.org/rest/api/2/issue/29643/comment/343945","id":"343945","author":{"self":"http://jira.codehaus.org/rest/api/2/user?username=dmlloyd","name":"dmlloyd","emailAddress":"david.lloyd@redhat.com","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"David M. Lloyd","active":true},"body":"It looks like the rewrite of my patch is now mapping all annotation processor output to WARNING regardless of the original level.  Investigating now.  Just want to point out that my patch, pull #6, worked fine (I actually tested it).","updateAuthor":{"self":"http://jira.codehaus.org/rest/api/2/user?username=dmlloyd","name":"dmlloyd","emailAddress":"david.lloyd@redhat.com","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"David M. Lloyd","active":true},"created":"2014-04-01T14:11:43.658-0500","updated":"2014-04-01T14:11:43.658-0500"},{"self":"http://jira.codehaus.org/rest/api/2/issue/29643/comment/343950","id":"343950","author":{"self":"http://jira.codehaus.org/rest/api/2/user?username=dmlloyd","name":"dmlloyd","emailAddress":"david.lloyd@redhat.com","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"David M. Lloyd","active":true},"body":"I guess a commit like this one is needed in the compiler plugin itself:\r\n\r\nhttps://github.com/dmlloyd/maven-plugins/commit/eb940ed43bcd23b22a1d976765fba6085d77d30c","updateAuthor":{"self":"http://jira.codehaus.org/rest/api/2/user?username=dmlloyd","name":"dmlloyd","emailAddress":"david.lloyd@redhat.com","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"David M. Lloyd","active":true},"created":"2014-04-01T14:53:32.176-0500","updated":"2014-04-01T14:53:32.176-0500"}]},"timeoriginalestimate":null,"aggregatetimespent":null}}