{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"118008","self":"http://jira.codehaus.org/rest/api/latest/issue/118008","key":"PLXCOMP-165","fields":{"progress":{"progress":0,"total":0},"summary":"PlexusIoFileResource changes lastModified timestamp of source file","timetracking":{},"issuetype":{"self":"http://jira.codehaus.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"http://jira.codehaus.org/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"customfield_10110":null,"votes":{"self":"http://jira.codehaus.org/rest/api/2/issue/PLXCOMP-165/votes","votes":0,"hasVoted":false},"resolution":{"self":"http://jira.codehaus.org/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"fixVersions":[{"self":"http://jira.codehaus.org/rest/api/2/version/17456","id":"17456","description":"","name":"plexus-io-2.0","archived":false,"released":true,"releaseDate":"2011-06-27"}],"resolutiondate":"2011-06-27T15:35:47.872-0500","customfield_10210":"0.0","timespent":null,"reporter":{"self":"http://jira.codehaus.org/rest/api/2/user?username=bentmann","name":"bentmann","emailAddress":"benjamin.bentmann@udo.edu","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"Benjamin Bentmann","active":true},"aggregatetimeoriginalestimate":null,"customfield_10161":["bentmann(bentmann)","dmlloyd(dmlloyd)","krosenvold(krosenvold)"],"customfield_10160":null,"updated":"2013-10-15T13:51:18.759-0500","created":"2010-11-17T14:41:58.567-0600","description":"Using the {{maven-jar-plugin:2.3.1}}, I noticed POM files being touched during the build. The reason is shown by this call stack:\r\n{noformat}\r\n  File.setLastModified(long) line: 1222 \r\n  PlexusIoFileResource.setLastModified(long) line: 148  \r\n  PlexusIoFileResource.setFile(File) line: 82 \r\n  PlexusIoFileResource.<init>(File, String, PlexusIoResourceAttributes) line: 73  \r\n  PlexusIoFileResource.<init>(File, PlexusIoResourceAttributes) line: 57  \r\n  ArchiveEntry.createFileEntry(String, File, int) line: 164 \r\n  JarArchiver(AbstractArchiver).addFile(File, String, int) line: 374  \r\n  JarArchiver(AbstractArchiver).addFile(File, String) line: 290 \r\n  MavenArchiver.createArchive(MavenProject, MavenArchiveConfiguration) line: 487  \r\n  JarMojo(AbstractJarMojo).createArchive() line: 216  \r\n  JarMojo(AbstractJarMojo).execute() line: 235  \r\n{noformat}\r\n\r\nThis change got introduced after {{plexus-io:1.0-alpha-4}} and seems inappropriate, either the setter should be a noop or just change some internal instance variable but not the source file itself.","priority":{"self":"http://jira.codehaus.org/rest/api/2/priority/4","iconUrl":"http://jira.codehaus.org/images/icons/priorities/minor.png","name":"Minor","id":"4"},"duedate":null,"issuelinks":[{"id":"29233","self":"http://jira.codehaus.org/rest/api/2/issueLink/29233","type":{"id":"10001","name":"dependent","inward":"is depended upon by","outward":"depends upon","self":"http://jira.codehaus.org/rest/api/2/issueLinkType/10001"},"inwardIssue":{"id":"126870","key":"PLXCOMP-181","self":"http://jira.codehaus.org/rest/api/2/issue/126870","fields":{"summary":"Upgrade to latest versions of plexus-io and plexus-utils","status":{"self":"http://jira.codehaus.org/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"http://jira.codehaus.org/images/icons/statuses/closed.png","name":"Closed","id":"6"},"priority":{"self":"http://jira.codehaus.org/rest/api/2/priority/3","iconUrl":"http://jira.codehaus.org/images/icons/priorities/major.png","name":"Major","id":"3"},"issuetype":{"self":"http://jira.codehaus.org/rest/api/2/issuetype/3","id":"3","description":"A task that needs to be done.","iconUrl":"http://jira.codehaus.org/images/icons/issuetypes/task.png","name":"Task","subtask":false}}}}],"customfield_10163":"39398400","watches":{"self":"http://jira.codehaus.org/rest/api/2/issue/PLXCOMP-165/watchers","watchCount":1,"isWatching":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"subtasks":[],"status":{"self":"http://jira.codehaus.org/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"http://jira.codehaus.org/images/icons/statuses/closed.png","name":"Closed","id":"6"},"customfield_10090":null,"labels":[],"workratio":-1,"assignee":{"self":"http://jira.codehaus.org/rest/api/2/user?username=krosenvold","name":"krosenvold","emailAddress":"krosenvold@apache.org","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&ownerId=krosenvold&avatarId=11127","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&ownerId=krosenvold&avatarId=11127","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&ownerId=krosenvold&avatarId=11127","48x48":"http://jira.codehaus.org/secure/useravatar?ownerId=krosenvold&avatarId=11127"},"displayName":"Kristian Rosenvold","active":true},"attachment":[],"customfield_10221":null,"customfield_10220":null,"customfield_10200":null,"aggregatetimeestimate":null,"customfield_10190":null,"project":{"self":"http://jira.codehaus.org/rest/api/2/project/11440","id":"11440","key":"PLXCOMP","name":"Plexus Components","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/projectavatar?size=xsmall&pid=11440&avatarId=10011","24x24":"http://jira.codehaus.org/secure/projectavatar?size=small&pid=11440&avatarId=10011","32x32":"http://jira.codehaus.org/secure/projectavatar?size=medium&pid=11440&avatarId=10011","48x48":"http://jira.codehaus.org/secure/projectavatar?pid=11440&avatarId=10011"},"projectCategory":{"self":"http://jira.codehaus.org/rest/api/2/projectCategory/10003","id":"10003","description":"various containers","name":"containers"}},"versions":[],"customfield_10170":null,"environment":null,"timeestimate":null,"customfield_10130":null,"aggregateprogress":{"progress":0,"total":0},"lastViewed":null,"components":[{"self":"http://jira.codehaus.org/rest/api/2/component/14319","id":"14319","name":"plexus-io"}],"comment":{"startAt":0,"maxResults":3,"total":3,"comments":[{"self":"http://jira.codehaus.org/rest/api/2/issue/118008/comment/271632","id":"271632","author":{"self":"http://jira.codehaus.org/rest/api/2/user?username=krosenvold","name":"krosenvold","emailAddress":"krosenvold@apache.org","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&ownerId=krosenvold&avatarId=11127","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&ownerId=krosenvold&avatarId=11127","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&ownerId=krosenvold&avatarId=11127","48x48":"http://jira.codehaus.org/secure/useravatar?ownerId=krosenvold&avatarId=11127"},"displayName":"Kristian Rosenvold","active":true},"body":"Fixed in 61350e8e9b5710b057fbc5043fae02e95b669c73\r\n","updateAuthor":{"self":"http://jira.codehaus.org/rest/api/2/user?username=krosenvold","name":"krosenvold","emailAddress":"krosenvold@apache.org","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&ownerId=krosenvold&avatarId=11127","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&ownerId=krosenvold&avatarId=11127","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&ownerId=krosenvold&avatarId=11127","48x48":"http://jira.codehaus.org/secure/useravatar?ownerId=krosenvold&avatarId=11127"},"displayName":"Kristian Rosenvold","active":true},"created":"2011-06-27T15:35:47.928-0500","updated":"2011-06-27T15:35:47.928-0500"},{"self":"http://jira.codehaus.org/rest/api/2/issue/118008/comment/334206","id":"334206","author":{"self":"http://jira.codehaus.org/rest/api/2/user?username=dmlloyd","name":"dmlloyd","emailAddress":"david.lloyd@redhat.com","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"David M. Lloyd","active":true},"body":"Unfortunately this status should be \"bungled\", not \"closed\".  The behavior of setFile() is completely wrong.  There is no logical reason for the way this is implemented, because setFile() will always set the modification time to the exact time that the file already has.  The result?  The inode mtime won't be changed, but the ctime will, causing useless I/Os and causing IDEs the world over to get confused as hell and think that all your sources were modified just because you used source plugin.\r\n\r\nOn top of that the fix is even more nonsense.  A flag is introduced to the private method to specify whether this completely broken and useless behavior is desirable, which in and of itself is wrong.  But on top of that, every usage of this private method has the flag set to 'true', making it useless to begin with!\r\n\r\nThe only reasonable fix is to stop calling setLastModified() from setFile() and get rid of the nonsense useless boolean parameter.\r\n\r\nAlso, why can bugs not be reopened?","updateAuthor":{"self":"http://jira.codehaus.org/rest/api/2/user?username=dmlloyd","name":"dmlloyd","emailAddress":"david.lloyd@redhat.com","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"David M. Lloyd","active":true},"created":"2013-10-15T13:46:44.720-0500","updated":"2013-10-15T13:46:44.720-0500"},{"self":"http://jira.codehaus.org/rest/api/2/issue/118008/comment/334207","id":"334207","author":{"self":"http://jira.codehaus.org/rest/api/2/user?username=dmlloyd","name":"dmlloyd","emailAddress":"david.lloyd@redhat.com","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"David M. Lloyd","active":true},"body":"Created PLXCOMP-228 to track the real problem/fix.","updateAuthor":{"self":"http://jira.codehaus.org/rest/api/2/user?username=dmlloyd","name":"dmlloyd","emailAddress":"david.lloyd@redhat.com","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"David M. Lloyd","active":true},"created":"2013-10-15T13:51:18.759-0500","updated":"2013-10-15T13:51:18.759-0500"}]},"timeoriginalestimate":null,"aggregatetimespent":null}}