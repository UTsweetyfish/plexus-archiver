{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"64681","self":"http://jira.codehaus.org/rest/api/latest/issue/64681","key":"PLXCOMP-107","fields":{"progress":{"progress":0,"total":0},"summary":"Fail to unzip archive, which contains file with name  'How_can_I_annotate_a_part_in_the_AAM%3F.Help' . ","timetracking":{},"issuetype":{"self":"http://jira.codehaus.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"http://jira.codehaus.org/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"customfield_10110":null,"votes":{"self":"http://jira.codehaus.org/rest/api/2/issue/PLXCOMP-107/votes","votes":0,"hasVoted":false},"resolution":{"self":"http://jira.codehaus.org/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"fixVersions":[{"self":"http://jira.codehaus.org/rest/api/2/version/20669","id":"20669","name":"plexus-archiver-2.6.4","archived":false,"released":true,"releaseDate":"2014-10-09"},{"self":"http://jira.codehaus.org/rest/api/2/version/20670","id":"20670","name":"plexus-io-2.1.4","archived":false,"released":true,"releaseDate":"2014-10-09"}],"resolutiondate":"2014-10-09T09:59:30.141-0500","customfield_10210":"1.0","timespent":null,"reporter":{"self":"http://jira.codehaus.org/rest/api/2/user?username=egrzh","name":"egrzh","emailAddress":"egrzh000@gmail.com","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"Egor","active":true},"aggregatetimeoriginalestimate":null,"customfield_10161":["egrzh(egrzh)","krosenvold(krosenvold)"],"customfield_10160":null,"updated":"2014-11-10T00:47:48.066-0600","created":"2008-03-16T15:56:36.949-0500","description":"Stack trace: \n\nCaused by: java.io.FileNotFoundException: JAR entry extensions/SMWHalo/libs/pred\nef_pages/How_can_I_annotate_a_part_in_the_AAM?.Help not found in E:\\Documents an\nd Settings\\Egr\\.m2\\repository\\org\\mediawiki\\smwhalo\\1.0\\smwhalo-1.0.zip\n        at sun.net.www.protocol.jar.JarURLConnection.connect(JarURLConnection.ja\nva:122)\n        at sun.net.www.protocol.jar.JarURLConnection.getInputStream(JarURLConnec\ntion.java:132)\n        at java.net.URL.openStream(URL.java:1009)\n        at org.codehaus.plexus.components.io.resources.PlexusIoURLResource.getCo\nntents(PlexusIoURLResource.java:14)\n        at org.codehaus.plexus.components.io.resources.PlexusIoProxyResourceColl\nection$1.getContents(PlexusIoProxyResourceCollection.java:80)\n        at org.codehaus.plexus.archiver.ArchiveEntry.getInputStream(ArchiveEntry\n.java:89)\n        at org.codehaus.plexus.archiver.zip.AbstractZipArchiver.zipFile(Abstract\n\nAnt can unzip this file. Looks like that problem in org.codehaus.plexus.components.io.resources.PlexusIoZipFileResourceCollection, which is used java.util.zip.ZipEntry classes to work with zip files.Can't handle some characters correctly...\nI.e. org.apache.tools.zip.ZipFile class should be used from plexus-archiver...\n","priority":{"self":"http://jira.codehaus.org/rest/api/2/priority/3","iconUrl":"http://jira.codehaus.org/images/icons/priorities/major.png","name":"Major","id":"3"},"duedate":null,"issuelinks":[{"id":"36160","self":"http://jira.codehaus.org/rest/api/2/issueLink/36160","type":{"id":"10010","name":"Related","inward":"is related to","outward":"relates to","self":"http://jira.codehaus.org/rest/api/2/issueLinkType/10010"},"outwardIssue":{"id":"157737","key":"MASSEMBLY-730","self":"http://jira.codehaus.org/rest/api/2/issue/157737","fields":{"summary":"jar-with-dependencies : a file in a dependency is overridden by the same file in JDK / JRE","status":{"self":"http://jira.codehaus.org/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"http://jira.codehaus.org/images/icons/statuses/closed.png","name":"Closed","id":"6"},"priority":{"self":"http://jira.codehaus.org/rest/api/2/priority/3","iconUrl":"http://jira.codehaus.org/images/icons/priorities/major.png","name":"Major","id":"3"},"issuetype":{"self":"http://jira.codehaus.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"http://jira.codehaus.org/images/icons/issuetypes/bug.png","name":"Bug","subtask":false}}}},{"id":"35921","self":"http://jira.codehaus.org/rest/api/2/issueLink/35921","type":{"id":"10001","name":"dependent","inward":"is depended upon by","outward":"depends upon","self":"http://jira.codehaus.org/rest/api/2/issueLinkType/10001"},"inwardIssue":{"id":"127289","key":"MASSEMBLY-563","self":"http://jira.codehaus.org/rest/api/2/issue/127289","fields":{"summary":"JAR entry not found when including jar dependencies with \"#\" in classname","status":{"self":"http://jira.codehaus.org/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"http://jira.codehaus.org/images/icons/statuses/closed.png","name":"Closed","id":"6"},"priority":{"self":"http://jira.codehaus.org/rest/api/2/priority/3","iconUrl":"http://jira.codehaus.org/images/icons/priorities/major.png","name":"Major","id":"3"},"issuetype":{"self":"http://jira.codehaus.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"http://jira.codehaus.org/images/icons/issuetypes/bug.png","name":"Bug","subtask":false}}}},{"id":"35978","self":"http://jira.codehaus.org/rest/api/2/issueLink/35978","type":{"id":"10001","name":"dependent","inward":"is depended upon by","outward":"depends upon","self":"http://jira.codehaus.org/rest/api/2/issueLinkType/10001"},"inwardIssue":{"id":"143562","key":"MASSEMBLY-641","self":"http://jira.codehaus.org/rest/api/2/issue/143562","fields":{"summary":"Assembly fails on resource name with a percent character","status":{"self":"http://jira.codehaus.org/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"http://jira.codehaus.org/images/icons/statuses/closed.png","name":"Closed","id":"6"},"priority":{"self":"http://jira.codehaus.org/rest/api/2/priority/3","iconUrl":"http://jira.codehaus.org/images/icons/priorities/major.png","name":"Major","id":"3"},"issuetype":{"self":"http://jira.codehaus.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"http://jira.codehaus.org/images/icons/issuetypes/bug.png","name":"Bug","subtask":false}}}},{"id":"35977","self":"http://jira.codehaus.org/rest/api/2/issueLink/35977","type":{"id":"10001","name":"dependent","inward":"is depended upon by","outward":"depends upon","self":"http://jira.codehaus.org/rest/api/2/issueLinkType/10001"},"inwardIssue":{"id":"137656","key":"MASSEMBLY-615","self":"http://jira.codehaus.org/rest/api/2/issue/137656","fields":{"summary":"assembly:single fails with odd resource file name","status":{"self":"http://jira.codehaus.org/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"http://jira.codehaus.org/images/icons/statuses/closed.png","name":"Closed","id":"6"},"priority":{"self":"http://jira.codehaus.org/rest/api/2/priority/4","iconUrl":"http://jira.codehaus.org/images/icons/priorities/minor.png","name":"Minor","id":"4"},"issuetype":{"self":"http://jira.codehaus.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"http://jira.codehaus.org/images/icons/issuetypes/bug.png","name":"Bug","subtask":false}}}}],"customfield_10163":"8467200","watches":{"self":"http://jira.codehaus.org/rest/api/2/issue/PLXCOMP-107/watchers","watchCount":2,"isWatching":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"subtasks":[],"status":{"self":"http://jira.codehaus.org/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"http://jira.codehaus.org/images/icons/statuses/closed.png","name":"Closed","id":"6"},"customfield_10090":null,"labels":[],"workratio":-1,"assignee":{"self":"http://jira.codehaus.org/rest/api/2/user?username=krosenvold","name":"krosenvold","emailAddress":"krosenvold@apache.org","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&ownerId=krosenvold&avatarId=11127","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&ownerId=krosenvold&avatarId=11127","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&ownerId=krosenvold&avatarId=11127","48x48":"http://jira.codehaus.org/secure/useravatar?ownerId=krosenvold&avatarId=11127"},"displayName":"Kristian Rosenvold","active":true},"attachment":[{"self":"http://jira.codehaus.org/rest/api/2/attachment/33223","id":"33223","filename":"PlexusIoZipFileResourceCollection.java","author":{"self":"http://jira.codehaus.org/rest/api/2/user?username=egrzh","name":"egrzh","emailAddress":"egrzh000@gmail.com","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"Egor","active":true},"created":"2008-03-16T18:11:11.911-0500","size":2337,"mimeType":"text/plain","content":"http://jira.codehaus.org/secure/attachment/33223/PlexusIoZipFileResourceCollection.java"}],"customfield_10221":null,"customfield_10220":null,"customfield_10200":null,"aggregatetimeestimate":null,"customfield_10190":null,"project":{"self":"http://jira.codehaus.org/rest/api/2/project/11440","id":"11440","key":"PLXCOMP","name":"Plexus Components","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/projectavatar?size=xsmall&pid=11440&avatarId=10011","24x24":"http://jira.codehaus.org/secure/projectavatar?size=small&pid=11440&avatarId=10011","32x32":"http://jira.codehaus.org/secure/projectavatar?size=medium&pid=11440&avatarId=10011","48x48":"http://jira.codehaus.org/secure/projectavatar?pid=11440&avatarId=10011"},"projectCategory":{"self":"http://jira.codehaus.org/rest/api/2/projectCategory/10003","id":"10003","description":"various containers","name":"containers"}},"versions":[],"customfield_10170":null,"environment":"xp windows, jdk 1.6","timeestimate":null,"customfield_10130":null,"aggregateprogress":{"progress":0,"total":0},"lastViewed":null,"components":[{"self":"http://jira.codehaus.org/rest/api/2/component/12540","id":"12540","name":"plexus-archiver"},{"self":"http://jira.codehaus.org/rest/api/2/component/14319","id":"14319","name":"plexus-io"}],"comment":{"startAt":0,"maxResults":6,"total":6,"comments":[{"self":"http://jira.codehaus.org/rest/api/2/issue/64681/comment/127391","id":"127391","author":{"self":"http://jira.codehaus.org/rest/api/2/user?username=egrzh","name":"egrzh","emailAddress":"egrzh000@gmail.com","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"Egor","active":true},"body":"Really,  new URL(new URL( \"jar:\" + f.toURI().toURL() + \"!/\"), \"<path>AAM%3F.Help\").openStream() throw FileNotFoundException. So problem may be not in ZipFile classes, but in the way, how plexus try to get zip entry stream...","updateAuthor":{"self":"http://jira.codehaus.org/rest/api/2/user?username=egrzh","name":"egrzh","emailAddress":"egrzh000@gmail.com","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"Egor","active":true},"created":"2008-03-16T16:57:00.162-0500","updated":"2008-03-16T16:57:00.162-0500"},{"self":"http://jira.codehaus.org/rest/api/2/issue/64681/comment/127392","id":"127392","author":{"self":"http://jira.codehaus.org/rest/api/2/user?username=egrzh","name":"egrzh","emailAddress":"egrzh000@gmail.com","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"Egor","active":true},"body":"And finally: \r\nProblem in org.codehaus.plexus.components.io.resources.PlexusIoZipFileResourceCollection:  45 line.\r\n\r\n41   \t                 final ZipEntry entry = (ZipEntry) en.nextElement();\r\n42 \t                final PlexusIoURLResource res = new PlexusIoURLResource(){\r\n43 \t                    public URL getURL() throws IOException\r\n44 \t                    {\r\n45 \t                        return new URL( url, entry.getName() );\r\n46 \t                    }\r\n47 \t                };\r\n\r\nSuch url creation is wrong. E.g. URLClassLoader to load resources use code. new URL(url, sun.net.www.ParseUtil.encodePath(entry.getName(), false)); Where ParseUtil.encodePath contains encoding logic(not simple, really)","updateAuthor":{"self":"http://jira.codehaus.org/rest/api/2/user?username=egrzh","name":"egrzh","emailAddress":"egrzh000@gmail.com","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"Egor","active":true},"created":"2008-03-16T17:22:15.812-0500","updated":"2008-03-16T17:22:15.812-0500"},{"self":"http://jira.codehaus.org/rest/api/2/issue/64681/comment/127393","id":"127393","author":{"self":"http://jira.codehaus.org/rest/api/2/user?username=egrzh","name":"egrzh","emailAddress":"egrzh000@gmail.com","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"Egor","active":true},"body":"Fix for the issue: Use URLClassLoader to create url object for zip entires. ","updateAuthor":{"self":"http://jira.codehaus.org/rest/api/2/user?username=egrzh","name":"egrzh","emailAddress":"egrzh000@gmail.com","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"Egor","active":true},"created":"2008-03-16T18:11:11.997-0500","updated":"2008-03-16T18:11:11.997-0500"},{"self":"http://jira.codehaus.org/rest/api/2/issue/64681/comment/354009","id":"354009","author":{"self":"http://jira.codehaus.org/rest/api/2/user?username=krosenvold","name":"krosenvold","emailAddress":"krosenvold@apache.org","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&ownerId=krosenvold&avatarId=11127","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&ownerId=krosenvold&avatarId=11127","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&ownerId=krosenvold&avatarId=11127","48x48":"http://jira.codehaus.org/secure/useravatar?ownerId=krosenvold&avatarId=11127"},"displayName":"Kristian Rosenvold","active":true},"body":"Testcase added in abefa1f5dc4dbde5c8ccf778b57e0225467ef894, this was probably fixed in the migration to commons-compress","updateAuthor":{"self":"http://jira.codehaus.org/rest/api/2/user?username=krosenvold","name":"krosenvold","emailAddress":"krosenvold@apache.org","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&ownerId=krosenvold&avatarId=11127","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&ownerId=krosenvold&avatarId=11127","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&ownerId=krosenvold&avatarId=11127","48x48":"http://jira.codehaus.org/secure/useravatar?ownerId=krosenvold&avatarId=11127"},"displayName":"Kristian Rosenvold","active":true},"created":"2014-10-08T12:40:12.585-0500","updated":"2014-10-08T12:40:12.585-0500"},{"self":"http://jira.codehaus.org/rest/api/2/issue/64681/comment/354013","id":"354013","author":{"self":"http://jira.codehaus.org/rest/api/2/user?username=krosenvold","name":"krosenvold","emailAddress":"krosenvold@apache.org","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&ownerId=krosenvold&avatarId=11127","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&ownerId=krosenvold&avatarId=11127","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&ownerId=krosenvold&avatarId=11127","48x48":"http://jira.codehaus.org/secure/useravatar?ownerId=krosenvold&avatarId=11127"},"displayName":"Kristian Rosenvold","active":true},"body":"This issue is actually in plexus-io, and testcase fails there","updateAuthor":{"self":"http://jira.codehaus.org/rest/api/2/user?username=krosenvold","name":"krosenvold","emailAddress":"krosenvold@apache.org","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&ownerId=krosenvold&avatarId=11127","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&ownerId=krosenvold&avatarId=11127","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&ownerId=krosenvold&avatarId=11127","48x48":"http://jira.codehaus.org/secure/useravatar?ownerId=krosenvold&avatarId=11127"},"displayName":"Kristian Rosenvold","active":true},"created":"2014-10-08T13:17:33.364-0500","updated":"2014-10-08T13:17:33.364-0500"},{"self":"http://jira.codehaus.org/rest/api/2/issue/64681/comment/354093","id":"354093","author":{"self":"http://jira.codehaus.org/rest/api/2/user?username=krosenvold","name":"krosenvold","emailAddress":"krosenvold@apache.org","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&ownerId=krosenvold&avatarId=11127","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&ownerId=krosenvold&avatarId=11127","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&ownerId=krosenvold&avatarId=11127","48x48":"http://jira.codehaus.org/secure/useravatar?ownerId=krosenvold&avatarId=11127"},"displayName":"Kristian Rosenvold","active":true},"body":"Fixed in d693c3412dbbfc74e5b0871857cee5a92d742ccd. Thanks for the patch!","updateAuthor":{"self":"http://jira.codehaus.org/rest/api/2/user?username=krosenvold","name":"krosenvold","emailAddress":"krosenvold@apache.org","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&ownerId=krosenvold&avatarId=11127","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&ownerId=krosenvold&avatarId=11127","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&ownerId=krosenvold&avatarId=11127","48x48":"http://jira.codehaus.org/secure/useravatar?ownerId=krosenvold&avatarId=11127"},"displayName":"Kristian Rosenvold","active":true},"created":"2014-10-09T09:59:30.193-0500","updated":"2014-10-09T09:59:30.193-0500"}]},"timeoriginalestimate":null,"aggregatetimespent":null}}