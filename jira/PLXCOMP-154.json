{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"111459","self":"http://jira.codehaus.org/rest/api/latest/issue/111459","key":"PLXCOMP-154","fields":{"progress":{"progress":0,"total":0},"summary":"plexus-compiler-javac could not detect warning message under non-english environment","timetracking":{},"issuetype":{"self":"http://jira.codehaus.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"http://jira.codehaus.org/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"customfield_10110":null,"votes":{"self":"http://jira.codehaus.org/rest/api/2/issue/PLXCOMP-154/votes","votes":0,"hasVoted":false},"resolution":{"self":"http://jira.codehaus.org/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"fixVersions":[{"self":"http://jira.codehaus.org/rest/api/2/version/17290","id":"17290","description":"","name":"plexus-compiler-1.8.1","archived":false,"released":true,"releaseDate":"2010-08-29"}],"resolutiondate":"2010-08-29T09:07:32.643-0500","customfield_10210":"1.0","timespent":null,"reporter":{"self":"http://jira.codehaus.org/rest/api/2/user?username=shawn.chain","name":"shawn.chain","emailAddress":"shawn.chain@gmail.com","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"Shawn Chain","active":true},"aggregatetimeoriginalestimate":null,"customfield_10161":["bentmann(bentmann)","juven(juven)","shawn.chain(shawn.chain)"],"customfield_10160":null,"updated":"2011-04-02T16:59:37.789-0500","created":"2010-06-22T03:36:00.089-0500","description":"Under my chinese OS, the javac will produce localized error/warning message. Unfortunately, in plexus-compiler-javac code, english string is hardcoded to detect whether it's warning or error message. \r\nThis problem will cause maven compile failure on projects which containing \"Sun proprietary API and may be removed in a future release\" java codes.\r\n\r\nThe patch attached will force the javac to use english locale to avoid above maven compilation problems.\r\n\r\nBTW, some test-cases of plexus-compiler-javac will fail under chinese environment for the same reason.","priority":{"self":"http://jira.codehaus.org/rest/api/2/priority/2","iconUrl":"http://jira.codehaus.org/images/icons/priorities/critical.png","name":"Critical","id":"2"},"duedate":null,"issuelinks":[{"id":"26528","self":"http://jira.codehaus.org/rest/api/2/issueLink/26528","type":{"id":"10010","name":"Related","inward":"is related to","outward":"relates to","self":"http://jira.codehaus.org/rest/api/2/issueLinkType/10010"},"outwardIssue":{"id":"100151","key":"MCOMPILER-109","self":"http://jira.codehaus.org/rest/api/2/issue/100151","fields":{"summary":"JavacCompiler treat localized warning messages as errors","status":{"self":"http://jira.codehaus.org/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"http://jira.codehaus.org/images/icons/statuses/closed.png","name":"Closed","id":"6"},"priority":{"self":"http://jira.codehaus.org/rest/api/2/priority/3","iconUrl":"http://jira.codehaus.org/images/icons/priorities/major.png","name":"Major","id":"3"},"issuetype":{"self":"http://jira.codehaus.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"http://jira.codehaus.org/images/icons/issuetypes/bug.png","name":"Bug","subtask":false}}}}],"customfield_10163":"137980800","watches":{"self":"http://jira.codehaus.org/rest/api/2/issue/PLXCOMP-154/watchers","watchCount":3,"isWatching":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"subtasks":[],"status":{"self":"http://jira.codehaus.org/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"http://jira.codehaus.org/images/icons/statuses/closed.png","name":"Closed","id":"6"},"customfield_10090":null,"labels":[],"workratio":-1,"assignee":{"self":"http://jira.codehaus.org/rest/api/2/user?username=bentmann","name":"bentmann","emailAddress":"benjamin.bentmann@udo.edu","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"Benjamin Bentmann","active":true},"attachment":[{"self":"http://jira.codehaus.org/rest/api/2/attachment/49723","id":"49723","filename":"patch.txt","author":{"self":"http://jira.codehaus.org/rest/api/2/user?username=shawn.chain","name":"shawn.chain","emailAddress":"shawn.chain@gmail.com","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"Shawn Chain","active":true},"created":"2010-06-22T03:36:00.425-0500","size":1170,"mimeType":"text/plain","content":"http://jira.codehaus.org/secure/attachment/49723/patch.txt"}],"customfield_10221":null,"customfield_10220":null,"customfield_10200":null,"aggregatetimeestimate":null,"customfield_10190":null,"project":{"self":"http://jira.codehaus.org/rest/api/2/project/11440","id":"11440","key":"PLXCOMP","name":"Plexus Components","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/projectavatar?size=xsmall&pid=11440&avatarId=10011","24x24":"http://jira.codehaus.org/secure/projectavatar?size=small&pid=11440&avatarId=10011","32x32":"http://jira.codehaus.org/secure/projectavatar?size=medium&pid=11440&avatarId=10011","48x48":"http://jira.codehaus.org/secure/projectavatar?pid=11440&avatarId=10011"},"projectCategory":{"self":"http://jira.codehaus.org/rest/api/2/projectCategory/10003","id":"10003","description":"various containers","name":"containers"}},"versions":[{"self":"http://jira.codehaus.org/rest/api/2/version/17289","id":"17289","description":"","name":"plexus-compiler-1.8","archived":false,"released":true,"releaseDate":"2010-03-29"}],"customfield_10170":[{"self":"http://jira.codehaus.org/rest/api/2/customFieldOption/10070","value":"Yes","id":"10070"}],"environment":"OS: Windows 7\r\nLocale: zh_CN \r\nJDK: 1.6.0_20\r\n","timeestimate":null,"customfield_10130":null,"aggregateprogress":{"progress":0,"total":0},"lastViewed":null,"components":[{"self":"http://jira.codehaus.org/rest/api/2/component/12541","id":"12541","name":"plexus-compiler"}],"comment":{"startAt":0,"maxResults":3,"total":3,"comments":[{"self":"http://jira.codehaus.org/rest/api/2/issue/111459/comment/226640","id":"226640","author":{"self":"http://jira.codehaus.org/rest/api/2/user?username=juven","name":"juven","emailAddress":"juven@sonatype.com","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"Juven Xu","active":true},"body":"it's duplicated with MCOMPILER-109","updateAuthor":{"self":"http://jira.codehaus.org/rest/api/2/user?username=juven","name":"juven","emailAddress":"juven@sonatype.com","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"Juven Xu","active":true},"created":"2010-06-29T09:37:09.304-0500","updated":"2010-06-29T09:37:09.304-0500"},{"self":"http://jira.codehaus.org/rest/api/2/issue/111459/comment/233546","id":"233546","author":{"self":"http://jira.codehaus.org/rest/api/2/user?username=bentmann","name":"bentmann","emailAddress":"benjamin.bentmann@udo.edu","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"Benjamin Bentmann","active":true},"body":"Fixed in [r8733|http://fisheye.codehaus.org/changelog/plexus/?cs=8733] as suggested by Kohsuke Kawaguchi in MCOMPILER-109 by checking javac's exit code (messing with the default locale would have had unwanted side effects, in particular when Maven is embedded and javac isn't forked).","updateAuthor":{"self":"http://jira.codehaus.org/rest/api/2/user?username=bentmann","name":"bentmann","emailAddress":"benjamin.bentmann@udo.edu","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"Benjamin Bentmann","active":true},"created":"2010-08-29T09:07:32.695-0500","updated":"2010-08-29T09:07:32.695-0500"},{"self":"http://jira.codehaus.org/rest/api/2/issue/111459/comment/233863","id":"233863","author":{"self":"http://jira.codehaus.org/rest/api/2/user?username=juven","name":"juven","emailAddress":"juven@sonatype.com","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"Juven Xu","active":true},"body":"confirmed it's fixed in plexus-compiler 1.8.1, eg\r\n\r\n{code}\r\n<plugin>\r\n  <groupId>org.apache.maven.plugins</groupId>\r\n  <artifactId>maven-compiler-plugin</artifactId>\r\n  <dependencies>\r\n    <dependency>\r\n      <groupId>org.codehaus.plexus</groupId>\r\n      <artifactId>plexus-compiler-javac</artifactId>\r\n      <version>1.8.1</version>\r\n    </dependency>\r\n  </dependencies>\r\n</plugin>\r\n{code}\r\n\r\noutput:\r\n\r\n{noformat}\r\n[INFO] Scanning for projects...\r\n[INFO]\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Building javac-warning-test 0.0.1-SNAPSHOT\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO]\r\n[INFO] --- maven-clean-plugin:2.4.1:clean (default-clean) @ javac-warning-test ---\r\n[INFO] Deleting D:\\workspaces\\ws-maven-book\\javac-warning-test\\target\r\n[INFO]\r\n[INFO] --- maven-resources-plugin:2.4.2:resources (default-resources) @ javac-warning-test ---\r\n[WARNING] Using platform encoding (GB18030 actually) to copy filtered resources, i.e. build is platform dependent!\r\n[INFO] Copying 0 resource\r\n[INFO]\r\n[INFO] --- maven-compiler-plugin:2.3:compile (default-compile) @ javac-warning-test ---\r\n[WARNING] File encoding has not been set, using platform encoding GB18030, i.e. build is platform dependent!\r\n[INFO] Compiling 1 source file to D:\\workspaces\\ws-maven-book\\javac-warning-test\\target\\classes\r\n[WARNING] \\workspaces\\ws-maven-book\\javac-warning-test\\src\\main\\java\\com\\juvenxu\\TestJavacWarning.java:[3,15] &#35686;&#21578;&#65306;sun.misc.BASE64Decoder &#26159; Sun &#30340;&#19987;\r\n&#29992; API&#65292;&#21487;&#33021;&#20250;&#22312;&#26410;&#26469;&#29256;&#26412;&#20013;&#21024;&#38500;\r\n[WARNING] \\workspaces\\ws-maven-book\\javac-warning-test\\src\\main\\java\\com\\juvenxu\\TestJavacWarning.java:[7,4] &#35686;&#21578;&#65306;sun.misc.BASE64Decoder &#26159; Sun &#30340;&#19987;\r\n&#29992; API&#65292;&#21487;&#33021;&#20250;&#22312;&#26410;&#26469;&#29256;&#26412;&#20013;&#21024;&#38500;\r\n[WARNING] \\workspaces\\ws-maven-book\\javac-warning-test\\src\\main\\java\\com\\juvenxu\\TestJavacWarning.java:[7,32] &#35686;&#21578;&#65306;sun.misc.BASE64Decoder &#26159; Sun &#30340;&#19987;\r\n&#29992; API&#65292;&#21487;&#33021;&#20250;&#22312;&#26410;&#26469;&#29256;&#26412;&#20013;&#21024;&#38500;\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time: 0.971s\r\n[INFO] Finished at: Wed Sep 01 16:05:47 CST 2010\r\n[INFO] Final Memory: 4M/254M\r\n[INFO] ------------------------------------------------------------------------\r\n{noformat}","updateAuthor":{"self":"http://jira.codehaus.org/rest/api/2/user?username=juven","name":"juven","emailAddress":"juven@sonatype.com","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"Juven Xu","active":true},"created":"2010-09-01T03:06:25.748-0500","updated":"2010-09-01T03:06:25.748-0500"}]},"timeoriginalestimate":null,"aggregatetimespent":null}}